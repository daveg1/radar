var X=Object.defineProperty;var M=e=>{throw TypeError(e)};var Y=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var h=(e,t,n)=>Y(e,typeof t!="symbol"?t+"":t,n),U=(e,t,n)=>t.has(e)||M("Cannot "+n);var g=(e,t,n)=>(U(e,t,"read from private field"),n?n.call(e):t.get(e)),I=(e,t,n)=>t.has(e)?M("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),f=(e,t,n,s)=>(U(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const l=new class{constructor(){h(this,"COLOR_GREEN","#76D731");h(this,"COLOR_TEAL","#0B633B");h(this,"FONT_SIZE",16);h(this,"LINE_WIDTH",3)}get PADDING_OUTER(){return this.FONT_SIZE*2}get RADAR_SIZE(){return Math.min(750,window.innerWidth-this.PADDING_OUTER*2)}get ORIGIN(){return this.RADAR_SIZE/2}get RADIUS(){return this.RADAR_SIZE/2}},B=e=>{const{ORIGIN:t,LINE_WIDTH:n,PADDING_OUTER:s,RADIUS:i,COLOR_GREEN:o}=l,a=4,d=i-n-s,D=(d-50)/a;e.strokeStyle=o,e.lineWidth=2;for(let p=0;p<=a;p++)e.beginPath(),e.arc(t,t,d-D*p,0,2*Math.PI),e.stroke(),e.closePath()},Z=e=>{const{COLOR_TEAL:t,ORIGIN:n,RADIUS:s}=l,i=e.createRadialGradient(n,n,0,n,n,s);i.addColorStop(0,t),i.addColorStop(1,"transparent"),e.fillStyle=i,e.fillRect(0,0,e.canvas.width,e.canvas.height)},_=e=>(e-90)*(Math.PI/180),u=(e,t)=>{const n=_(t),s=e*Math.cos(n)+l.ORIGIN,i=e*Math.sin(n)+l.ORIGIN;return{x:s,y:i}};var m,O,R,y,q;const r=new(q=class{constructor(){I(this,m,null);h(this,"imageOpacity",0);I(this,O,0);I(this,R,!1);I(this,y,null)}set image(t){f(this,m,t)}get image(){return g(this,m)}get needleRadius(){return g(this,O)}set needleRadius(t){f(this,O,t)}playSonar(){g(this,R)||(f(this,R,!0),f(this,y,new Audio("/radar/sonar.mp3")),g(this,y).play().catch(console.log),g(this,y).onended=()=>{f(this,R,!1)})}},m=new WeakMap,O=new WeakMap,R=new WeakMap,y=new WeakMap,q),G=e=>{const{COLOR_GREEN:t,LINE_WIDTH:n,ORIGIN:s,PADDING_OUTER:i,RADIUS:o}=l,a=u(o-i-n,r.needleRadius+1),d=u(o-i-n,r.needleRadius-1);e.fillStyle=t,e.beginPath(),e.moveTo(s,s),e.lineTo(a.x,a.y),e.lineTo(d.x,d.y),e.lineTo(s,s),e.fill(),e.beginPath(),e.arc(s,s,n/2,0,2*Math.PI),e.fill()},j=e=>{r.image&&(r.needleRadius>=70&&r.needleRadius<=75&&(r.playSonar(),r.imageOpacity=1),e.globalAlpha=r.imageOpacity,r.imageOpacity-=.008,e.drawImage(r.image,l.ORIGIN-100,l.ORIGIN-100,200,200))},F=e=>{const{COLOR_GREEN:t,PADDING_OUTER:n,RADIUS:s,LINE_WIDTH:i}=l;e.strokeStyle=t,e.lineWidth=i,e.lineCap="round",e.fillStyle=t,e.font="1em monospace";for(let o=0;o<360;o+=10){o>180&&o<360?e.textAlign="right":o>0&&o<180?e.textAlign="left":e.textAlign="center",o>90&&o<270?e.textBaseline="top":o===270||o===90?e.textBaseline="middle":e.textBaseline="alphabetic";const a=u(s-n+4,o),d=u(s-n-i,o),P=u(s-n+4,o),D=4*Math.cos(_(o))*1,p=8*Math.sin(_(o))*1;e.fillText(`${o}`.padStart(3,"0"),a.x+D,a.y+p),e.beginPath(),e.moveTo(d.x,d.y),e.lineTo(P.x,P.y),e.stroke(),e.closePath(),e.lineWidth=i/2;for(let S=o+1;S<o+10;S++){const b=u(s-n-i,S),v=u(s-n+1,S);e.beginPath(),e.moveTo(b.x,b.y),e.lineTo(v.x,v.y),e.stroke(),e.closePath()}}},N=(e,t)=>{const{RADAR_SIZE:n}=l;e.style.width=`${n}px`,e.style.height=`${n}px`;const s=window.devicePixelRatio;e.width=Math.floor(n*s),e.height=Math.floor(n*s),t.scale(s,s)},T=e=>{e.clearRect(0,0,e.canvas.width,e.canvas.height)},H=document.querySelector("#layer1"),E=H.getContext("2d"),$=document.querySelector("#layer2"),C=$.getContext("2d"),L=document.querySelector("#layer3"),A=L.getContext("2d"),k=document.querySelector("#layer4"),c=k.getContext("2d"),w=new Image;w.src="/radar/ping.png";w.onload=()=>{r.image=w};const W=document.querySelector("#enable");W.onclick=()=>{K(),W.remove()};N(H,E);N($,C);N(L,A);N(k,c);function z(){Z(E),G(c),B(c),F(c)}function K(){requestAnimationFrame(K);let e=r.needleRadius+1.75;e=e>360?0:e,r.needleRadius=e,T(E),Z(E),T(C),j(C),A.fillStyle="rgb(0 0 0 / 10%)",A.fillRect(0,0,L.width,L.height),G(A),T(c),G(c),B(c),F(c)}z();window.onresize=()=>{z()};
