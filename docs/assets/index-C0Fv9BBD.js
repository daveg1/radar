var X=Object.defineProperty;var E=e=>{throw TypeError(e)};var Y=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var q=(e,t,n)=>Y(e,typeof t!="symbol"?t+"":t,n),v=(e,t,n)=>t.has(e)||E("Cannot "+n);var d=(e,t,n)=>(v(e,t,"read from private field"),n?n.call(e):t.get(e)),y=(e,t,n)=>t.has(e)?E("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),u=(e,t,n,l)=>(v(e,t,"write to private field"),l?l.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const A of r.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&l(A)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const a=750,G=16,R=3,L=G*2,i=a/2,h=a/2,O="#76D731",j="#0B633B",_=e=>{const n=h-R-L,o=(n-50)/4;e.strokeStyle=O,e.lineWidth=2;for(let r=0;r<=4;r++)e.beginPath(),e.arc(i,i,n-o*r,0,2*Math.PI),e.stroke(),e.closePath()},$=e=>{const t=e.createRadialGradient(i,i,0,i,i,h);t.addColorStop(0,j),t.addColorStop(1,"transparent"),e.fillStyle=t,e.fillRect(0,0,a,a)},T=e=>(e-90)*(Math.PI/180),b=(e,t)=>{const n=T(t),l=e*Math.cos(n)+i,o=e*Math.sin(n)+i;return{x:l,y:o}};var p,m,f,g,D;const s=new(D=class{constructor(){y(this,p,null);q(this,"imageOpacity",0);y(this,m,0);y(this,f,!1);y(this,g,null)}set image(t){u(this,p,t)}get image(){return d(this,p)}get needleRadius(){return d(this,m)}set needleRadius(t){u(this,m,t)}playSonar(){d(this,f)||(u(this,f,!0),u(this,g,new Audio("/radar/sonar.mp3")),d(this,g).play().catch(console.log),d(this,g).onended=()=>{u(this,f,!1)})}},p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakMap,D),M=e=>{const t=b(h-L-R,s.needleRadius+1),n=b(h-L-R,s.needleRadius-1);e.fillStyle=O,e.beginPath(),e.moveTo(i,i),e.lineTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(i,i),e.fill(),e.beginPath(),e.arc(i,i,R/2,0,2*Math.PI),e.fill()},z=e=>{s.image&&(s.needleRadius>=70&&s.needleRadius<=75&&(s.playSonar(),s.imageOpacity=1),e.globalAlpha=s.imageOpacity,s.imageOpacity-=.008,e.drawImage(s.image,i-100,i-100,200,200))},F=e=>{e.strokeStyle=O,e.fillStyle=O,e.font=`${G}px monospace`;for(let t=0;t<360;t+=10){t>180&&t<360?e.textAlign="right":t>0&&t<180?e.textAlign="left":e.textAlign="center",t>90&&t<270?e.textBaseline="top":t===270||t===90?e.textBaseline="middle":e.textBaseline="alphabetic";const{x:n,y:l}=b(h-L,t),o=4*Math.cos(T(t))*1,r=8*Math.sin(T(t))*1;e.fillText(`${t}`.padStart(3,"0"),n+o,l+r)}},P=(e,t)=>{e.style.width=`${a}px`,e.style.height=`${a}px`;const n=window.devicePixelRatio;e.width=Math.floor(a*n),e.height=Math.floor(a*n),t.scale(n,n)},C=e=>{e.clearRect(0,0,a,a)},U=document.querySelector("#layer1"),I=U.getContext("2d"),W=document.querySelector("#layer2"),w=W.getContext("2d"),Z=document.querySelector("#layer3"),S=Z.getContext("2d"),H=document.querySelector("#layer4"),c=H.getContext("2d"),N=new Image;N.src="/radar/ping.png";N.onload=()=>{s.image=N};const B=document.querySelector("#enable");B.onclick=()=>{K(),B.remove()};P(U,I);P(W,w);P(Z,S);P(H,c);function J(){$(I),M(c),_(c),F(c)}function K(){requestAnimationFrame(K);let e=s.needleRadius+1.75;e=e>360?0:e,s.needleRadius=e,C(I),$(I),C(w),z(w),S.fillStyle="rgb(0 0 0 / 10%)",S.fillRect(0,0,a,a),M(S),C(c),M(c),_(c),F(c)}J();
